# 一、**了解 Web 及网络基础**

Web 是建立在何种技术之上，以及 HTTP 协议是如何诞 生并发展的

HTTP（HyperText Transfer Protocol，超文本传输协议）

## 1、网络基础 **TCP/IP**

通常使用的网络（包括互联网）是在 TCP/IP 协议族的基础上运作 的。而 HTTP 属于它内部的一个子集。

- 1）**TCP/IP** 协议族
    - 计算机与网络设备要相互通信，双方就必须基于相同的方法、或者规则，统称为 协议（protocol）
    - 而 **TCP/IP** 是互联网相关的各类协议族的总称

- 2）**TCP/IP** 的分层管理
    
    
    族按层次分别分 为以下 4 层：应用层、传输层、网络层和数据链路层
    
    优点：逻辑清晰，修改与设计简单，自由度高，
    
    **应用层**：
    
    - 应用层决定了向用户提供应用服务时通信的活动。
    - FTP（File Transfer Protocol，文件传输协议）
    - DNS（Domain Name System，域名系统）
    - HTTP（HyperText Transfer Protocol，超文本传输协议）
    
    **传输层** 
    
    - 传输层对上层应用层，提供处于网络连接中的两台计算机之间的数据 传输。
    - TCP（Transmission Control Protocol，传输控制协议）
    - UDP（User Data Protocol，用户数据报 协议）
    
    **网络层**（又名网络互连层）
    
    - 来处理在网络上流动的数据包。数据包是网络传输的最小数 据单位。
    
    **链路层**（又名数据链路层，网络接口层）
    
    - 来处理连接网络的硬件部分，操作系统、硬件的设备驱，网卡，光纤，等硬件上的范畴均在 链路层的作用范围之内。

- 3）**TCP/IP** 通信传输流
    
    
    TCP/IP 协议族进行网络通信时，会通过分层顺序与对方进行通信。
    
    发送端从应用层往下走，接收端则往应用层往上走。
    
    ![通信传输流](./imgs/通信传输流.png)
    
    ![通信传输流封装](./imgs/通信传输流封装.png)
    
    发送端在层与层之间传输数据时，每经过一层时必定会被打上一个该 层所属的首部信息。
    
    反之，接收端在层与层传输数据时，每经过一层 时会把对应的首部消去。 
    
    这种把数据信息包装起来的做法称为封装（encapsulate）。
    

- 4）与 **HTTP** 关系密切的协议 **: IP**、**TCP** 和 **DNS**
    
    负责传输的 **IP** 协议（网络层）
    
    IP（Internet Protocol）网际协议作用是把各种数据包传送给对方，
    
    IP 地址 和 MAC 地址 是保证传送的两个重要条件
    
    IP 地址指明了节点被分配到的地址，MAC 地址是指网卡所属的固定 地址。
    
    IP 地址可以和 MAC 地址进行配对。
    
    IP 地址可变换，但 MAC 地址基本上不会更改
    
    ARP 协议（Address Resolution Protocol）
    
    ARP 是一种用以解析地址的协议，根据通信方 的 IP 地址就可以反查出对应的 MAC 地址。
    
    确保可靠性的 **TCP** 协议（传输层）
    
    提供可靠的字节流服务
    
    为了准确无误地将数据送达目标处，TCP 协议采用了三次握手 （three-way handshaking）策略
    
    TCP 的握手标志（flag） —— SYN（synchronize） 和 ACK（acknowledgement）
    
    负责域名解析的 **DNS** 服务（应用层）
    
    提供通过域名 查找 IP 地址，或逆向从 IP 地址反查域名的服务
    

- 5）**URI** 和 **URL**
    
    URI（Uniform Resource Identifier，统一资源标识符）
    
    是由某个协议方案表示的资源的定位标识符。协议方案是指访问资源所使用的协议类型名称。
    
    URL（Uniform Resource Locator，统一资源定位符）
    
    URL表示资源的地点（互联 网上所处的位置）
    
    URL是 URI 的子集
    
    **URI** 格式
    
    ![URI格式](./imgs/URI格式.png)
    

## 2、**简单的 HTTP 协议**

**HTTP** 协议用于客户端和服务器端之间的通信，通过请求和响应的交换达成通信

**HTTP** 是不保存状态的协议，是为了 更快地处理大量事务，确保协议的可伸缩性

- 告知服务器意图的 **HTTP** 方法
    - **GET** ：获取资源
        
        求访问已被 URI 识别的资源
        
    - **POST**：传输实体主体
    - **PUT**：传输文件
    - **DELETE**：删除文件
    - **OPTIONS**：询问支持的方法
        
        来查询针对请求 URI 指定的资源支持的方法
        
    - **HEAD**：获得报文首部
        
        和 **GET** 一样，但不返回报文主体
        
    - **TRACE**：追踪路径
    - **CONNECT**：要求用隧道协议连接代理
  
### 3、**返回结果的 HTTP 状态码**

- 1）状态码的类别
    - 1XX Informational（信息性状态码） 接收的请求正在处理
    - 2XX Success（成功状态码） 请求正常处理完毕
    - 3XX Redirection（重定向状态码） 需要进行附加操作以完成请求
    - 4XX Client Error（客户端错误状态码） 服务器无法处理请求
    - 5XX Server Error（服务器错误状态码） 服务器处理请求出错

- 2）**2XX** 成功
    
    2XX 的响应结果表明请求被正常处理了
    
    **200 OK**   
    表示从客户端发来的请求在服务器端被正常处理了
    
    **204 No Content** 
    
    服务器接收的请求已成功处理，但在返回的响应报文中 不含实体的主体部分。
    
    **206 Partial Content**
    
    该状态码表示客户端进行了范围请求，而服务器成功执行了这部分的 GET 请求
    
    响应报文中包含由 Content-Range 指定范围的实体内容
    

- 3）**3XX** 重定向
    
    3XX 响应结果表明浏览器需要执行某些特殊的处理以正确处理请 求。
    
    **301 Moved Permanently**
    
    永久性重定向。该状态码表示请求的资源已被分配了新的 URI，以后 应使用资源现在所指的 URI。
    
    **302 Found**
    
    临时性重定向。该状态码表示请求的资源已被分配了新的 URI，希望 用户（本次）能使用新的 URI 访问。
    
    **303 See Other**
    
    由于请求对应的资源存在着另一个 URI，应使用 GET 方法定向获取请求的资源
    
    **304 Not Modified**
    
    示客户端发送附带条件的请求时，服务器端允许请求访 问资源，但未满足条件的情况
    
    > 附带条件的请求是指采用 GET方法的请求报文中包含 If-Match，If-Modified- Since，If-None-Match，If-Range，If-Unmodified-Since 中任一首部
    > 
    
    **307 Temporary Redirect**
    
    临时重定向。该状态码与 302 Found 有着相同的含义。
    

- 4）**4XX** 客户端错误
    
    4XX 的响应结果表明客户端是发生错误的原因所在
    
    **400 Bad Request**
    
    请求报文中存在语法错误
    
    **401 Unauthorized**
    
    示发送的请求需要有通过 HTTP 认证（BASIC 认证、 DIGEST 认证）的认证信息。另外若之前已进行过 1 次请求，则表示 用 户认证失败。
    
    **403 Forbidden**
    
    明对请求资源的访问被服务器拒绝了
    
    **404 Not Found**
    
    服务器上无法找到请求的资源，或者服务器端拒绝请求且不想说明理由时使用
    

- 5）**5XX** 服务器错误
    
    5XX 的响应结果表明服务器本身发生错误。
    
    **500 Internal Server Error**
    
    服务器端在执行请求时发生了错误，也有可能是 Web 应用存在的 bug 或某些临时的故障。
    
    **503 Service Unavailable**
    
    服务器暂时处于超负载或正在进行停机维护，现在无法 处理请求。